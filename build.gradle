plugins {
    id("java-library")
    id("maven-publish")
}

sourceCompatibility = 8
targetCompatibility = 8

group("net.gudenau.lib")
version("1.4.1")

repositories {
    mavenCentral()
}

dependencies {
    testImplementation("org.junit.jupiter:junit-jupiter:+")
}

java {
    withSourcesJar()
}

publishing {
    publications {
        maven(MavenPublication) {
            groupId(project.group)
            artifactId(project.name)
            version(project.version)

            from(components.java)
        }
    }

    repositories {
        mavenLocal()

        maven {
            url = "https://auoeke.jfrog.io/artifactory/maven"

            credentials {
                username = System.env["ARTIFACTORY_USERNAME"]
                password = System.env["ARTIFACTORY_PASSWORD"]
            }
        }
    }
}
